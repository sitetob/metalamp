{"version":3,"file":"index.js","names":["callbackify","through","html2pug","vinylToString","PluginError","PLUGIN_NAME","convert","file","pug","Object","assign","contents","isBuffer","Buffer","from","isStream","end","extname","transform","options","enc","then","obj"],"sources":["../src/index.js"],"sourcesContent":["import { callbackify } from 'node:util';\nimport through from 'through2';\nimport html2pug from 'html2pug';\nimport vinylToString from 'vinyl-contents-tostring';\nimport PluginError from 'plugin-error';\n\nconst PLUGIN_NAME = 'gulp-html2pug';\n\nconst convert = (file) => (pug) => Object.assign(file, {\n  contents: file.isBuffer()\n    ? Buffer.from(pug)\n    : file.isStream()\n      ? through().end(pug)\n      : throw new PluginError(PLUGIN_NAME, 'Invalid file'),\n  extname: '.pug',\n});\n\nconst transform = (options) => callbackify(\n  (file, enc) => vinylToString(file, enc)\n    .then(html2pug(?, options))\n    .then(convert(file)),\n);\n\nexport default (options = {}) => through.obj(transform(options));\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,WAAW;AACvC,OAAOC,OAAO,MAAM,UAAU;AAC9B,OAAOC,QAAQ,MAAM,UAAU;AAC/B,OAAOC,aAAa,MAAM,yBAAyB;AACnD,OAAOC,WAAW,MAAM,cAAc;AAEtC,MAAMC,WAAW,GAAG,eAAe;AAEnC,MAAMC,OAAO,GAAIC,IAAI,IAAMC,GAAG,IAAKC,MAAM,CAACC,MAAM,CAACH,IAAI,EAAE;EACrDI,QAAQ,EAAEJ,IAAI,CAACK,QAAQ,EAAE,GACrBC,MAAM,CAACC,IAAI,CAACN,GAAG,CAAC,GAChBD,IAAI,CAACQ,QAAQ,EAAE,GACbd,OAAO,EAAE,CAACe,GAAG,CAACR,GAAG,CAAC;IAAA;EAAA,EACZ,IAAIJ,WAAW,CAACC,WAAW,EAAE,cAAc,CAAC;EACxDY,OAAO,EAAE;AACX,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAIC,OAAO,IAAKnB,WAAW,CACxC,CAACO,IAAI,EAAEa,GAAG;EAAA;EAAA,OAAKjB,aAAa,CAACI,IAAI,EAAEa,GAAG,CAAC,CACpCC,IAAI,cAACnB,QAAQ,aAAIiB,OAAO,WAAnBjB,QAAQ;IAAA;EAAA,GAAa,CAC1BmB,IAAI,CAACf,OAAO,CAACC,IAAI,CAAC,CAAC;AAAA,EACvB;AAED,gBAAe,CAACY,OAAO,GAAG,CAAC,CAAC,KAAKlB,OAAO,CAACqB,GAAG,CAACJ,SAAS,CAACC,OAAO,CAAC,CAAC"}